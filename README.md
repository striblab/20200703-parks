# 2020303 Minnesota Primary precinct maps

Scripts to process precinct results into an SVG and tileset using a variety of command-line tools

### NPM things to have installed globally/locally
```bash
# npm install -g ndjson-cli topojson-client d3 mapshaper shapefile @turf/turf
npm install -g csv2json
npm install ndjson-cli topojson-client d3 mapshaper shapefile @turf/turf
```

### Homebrew things
```bash
brew install tippecanoe
```

# Processing precinct data

### 1. Create a precinct basemap topojson from the SOS precinct shapefile

```
cd sources
./process_precinct_topojson.sh
```

### 1.5. If it doesn't already exist, make a mask to hide non-Minnesota states

```
cd sources
./get_mask.sh
```

### 2. Download results data from SOS site

```
./get-pres-precinct-data.sh
```

### 3. Join results and basemaps to make an SVG and .mbtiles

```
./make-pres-primary-precinct-map.sh
```


## License

Code is licensed under the MIT license included here. Content (such as images, video, audio, copy) can only be reused with express permission by Star Tribune.

## Generated

Generated by [Star Tribune StribLab generator](https://github.com/striblab/generator-striblab) on 2018-11-07T19:16:41.439Z.
